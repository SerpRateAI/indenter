# üì¶ Releasing Merrypopins

This document describes the steps to release a new version of the `merrypopins` Python package to both [PyPI](https://pypi.org/project/merrypopins/) and GitHub Releases.

---

## ‚úÖ Requirements

- You have write access to the repository.
- A valid `PYPI_API_TOKEN` is stored in GitHub Secrets.
- Versioning follows [Semantic Versioning](https://semver.org/) (e.g. `0.3.0`).

---

## üîÅ Release Checklist

### 1. Update the Version

Update version number in:

- `pyproject.toml`:
  ```toml
  [project]
  version = "0.3.0"
  ```
- `src/merrypopins/__init__.py`:
  ```python
  __version__ = "0.3.0"
  ```

‚ö†Ô∏è **Both values must match.**

---

### 2. Update the Changelog (Optional)

In the `CHANGELOG.md`, add a section for the new version:

```markdown
## [0.3.0] - 2025-06-06
- Improved Fourier detection accuracy
- Fixed CNN trimming
- Automated release via GitHub Actions
```

---

### 3. Merge to Main Branch

Create a pull request to merge your changes into the release branch (`main`).

Once merged, the GitHub Actions workflow will:

- Validate version consistency
- Build the package
- Publish it to PyPI
- Tag the release (`v0.3.0`)
- Create a GitHub release with autogenerated notes

---

## üîç Verification Steps

- ‚úÖ Go to [PyPI](https://pypi.org/project/merrypopins/) and check that the version is published.
- ‚úÖ Go to [GitHub Releases](https://github.com/SerpRateAI/merrypopins/releases) and confirm the tag and release notes were created.

---

## üß† Notes

- The workflow ensures versions are only released once.
- Version mismatch between `pyproject.toml` and `__init__.py` will fail the release.
- Auto-generated release notes summarize commit history since the last tag.

---

## üìÅ Related Files

- `pyproject.toml`
- `src/merrypopins/__init__.py`
- `.github/workflows/release.yml`
- `.github/RELEASING.md`
